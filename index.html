<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TDI Archive Secure Access</title>

<style>
body {
  background: #0e0e0e;
  color: #d6d6d6;
  font-family: "Courier New", monospace;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  overflow: hidden;
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.container {
  text-align: center;
  animation: flicker 3s infinite;
}

input {
  background: black;
  border: 1px solid #444;
  color: #d6d6d6;
  padding: 10px;
  margin-top: 15px;
  font-family: inherit;
}

button {
  background: none;
  border: 1px solid #444;
  color: #d6d6d6;
  padding: 10px 20px;
  margin-top: 10px;
  cursor: pointer;
}

button:hover {
  background: #222;
}

#status {
  margin-top: 15px;
  height: 20px;
}
</style>
</head>

<body>

<div class="container">
  <h2>TDI ████████████ ARCHIVE</h2>
  <p id="text"></p>

  <input type="password" id="password" placeholder="AUTHORIZATION CODE">
  <br>
  <button type="button" onclick="check()">REQUEST ACCESS</button>

  <div id="status"></div>
</div>

<script>
const lines = [
  "SECURE ARCHIVE NODE ACTIVE",
  "AUTHORIZED PERSONNEL ONLY",
  "ALL ACTIONS ARE LOGGED"
];

let i = 0;
let j = 0;
let deleting = false;
let attempts = 0;

/* CONTRASEÑAS Y ARCHIVOS */
const accessMap = {
  "TDI07401": "TDI_Report23.pdf",
  "TDI1304EARLY": "TDI_Report13.pdf",
  "TDI437901": "TDI_Report43.pdf",
  "TDI072134": "TDI_Report37.pdf"
  // puedes añadir más aquí
};

function type() {
  let current = lines[i].slice(0, j);
  document.getElementById("text").textContent = current;

  if (!deleting) {
    j++;
    if (j > lines[i].length) {
      deleting = true;
      setTimeout(type, 1200);
      return;
    }
  } else {
    j--;
    if (j < 0) {
      deleting = false;
      i = (i + 1) % lines.length;
      j = 0;
    }
  }

  setTimeout(type, deleting ? 40 : 80);
}

type();

function check() {
  const pass = document.getElementById("password").value.trim();
  const status = document.getElementById("status");

  if (accessMap[pass]) {
    status.textContent = "ACCESS GRANTED";
    status.style.color = "#6f6";

    setTimeout(() => {
      window.location.href = accessMap[pass];
    }, 1500);

  } else {
    attempts++;
    status.textContent = "ACCESS DENIED (" + attempts + "/3)";
    status.style.color = "#a33";

    if (attempts > 3) {
      window.location.href = "terminated.html";
    }
  }
}
</script>
